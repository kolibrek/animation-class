---
import { Image } from "astro:assets";

const {heading, description, overlay = '#000', image, alt} = Astro.props;
---

<div class="card">
  <Image class="image" src={image} alt={alt} height={640}/>
  <h3 class="text-3xl mb-2">{heading}</h3>
  <p>{description}</p>
</div>

<style define:vars={{ overlay }}>
.card {
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  padding: 2rem;
  border-radius: 1rem;
  height: 640px;
  overflow: hidden;
  z-index: inherit;

  &::before {
    content: "";
    position: absolute;
    inset: 0;
    background-color: var(--overlay);
    opacity: 0;
    transition: opacity 0.4s ease;
    z-index: -1;
  }

  .image {
    position: absolute;
    inset: 0;
    object-fit: cover;
    width: 100%;
    height:100%;
    z-index: -2;
    border-radius: 1rem;
    border: solid 4px #fff1;
  }

  h3, p {
    transition: opacity 0.4s ease, transform 0.4s ease;
    opacity: 0;
    transform: translateY(30px);
  }
  p {
    transition-delay: 300ms;
  }

  &:hover {
    h3, p {
      opacity: 1;
      transform: translateY(0px);
    }
    &::before {
      opacity: 0.4;
    }
  }
}
</style>